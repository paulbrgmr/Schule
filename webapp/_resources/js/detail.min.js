$(function(){$.ajax({url:"_resources/json/schueler.json"}).done(function(e){function n(e){$("#detail-content-nav li").removeClass("active"),$("#detail-"+e).addClass("active"),"description"==e?($('[id^="detail-"][id$=-content]').hide(),$("#detail-description-content").show()):"phone"==e?($('[id^="detail-"][id$=-content]').hide(),$("#detail-phone-content").show()):"maps"==e?($('[id^="detail-"][id$=-content]').hide(),$("#detail-maps-content").show()):"contact"==e&&($('[id^="detail-"][id$=-content]').hide(),$("#detail-contact-content").show())}var t=sessionStorage.schueler;$.each(e.schueler,function(e,n){var o=n.Name.split(" ").join("-");if(t==o){var a=window.location.pathname,i=a+"?name="+o;$("#schueler-name").text(n.Name),""!=n.Bild?$('<img src="'+n.Bild+'">').appendTo($("#portrait-img, #portrait-img-bg")):($("#portrait-img, #portrait-img-bg").remove(),$("#detail-content-nav").addClass("no-img")),$("<h2>"+n.Name+"</h2><h4>Geburtstag:</h4><p>"+n.Geburtstag+"</p><h4>Ausbildung:</h4><p>"+n.Ausbildung+"</p><h4>Berufserfahrung:</h4><p>"+n.Berufserfahrung+"</p>").appendTo("#schueler-data"),$.each(n.Fach,function(e,n){$("<li>"+n+"</li>").appendTo("#schueler-faecher")}),$('<p>Mobil: <a href="tel:'+n.Telefon.split(" ").join("")+'">'+n.Telefon+"</a></p>").appendTo("#schueler-phone"),$("<p>"+n.Wohnort+"</p>").appendTo("#schueler-maps"),$("#showGMaps").on("click",function(){$("#map").addClass("initialize");var e=n.Wohnort.split(" ").join("+"),t="AIzaSyAmJfTM5F0gNCWQEBd3dt3u0Eg3oDiWKwY";$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json?address="+e}).done(function(e){function n(){var e={zoom:11,center:myLatLng};t=new google.maps.Map(document.getElementById("map"),e);var n=new google.maps.Marker({position:myLatLng,map:t}),o=new google.maps.InfoWindow({content:"<p>Marker Location:"+n.getPosition()+"</p>"});google.maps.event.addListener(n,"click",function(){o.open(t)})}myLatLng=e.results[0].geometry.location;var t;n()})}),$('<p><a href="mailto:'+n.EMail+'?subject=Wir suchen Sie!">'+n.EMail+"</a></p>").appendTo("#schueler-contact")}}),$("#detail-description").hasClass("active")&&n("description"),$("#detail-description").on("click",function(){n("description")}),$("#detail-phone").on("click",function(){n("phone")}),$("#detail-maps").on("click",function(){n("maps")}),$("#detail-contact").on("click",function(){n("contact")})})});